{% if app.user %}
{% extends  app.user.roles.0 is same as('ROLE_CANDIDAT')  ? "candidate.html.twig" : "company.html.twig" %}
{%  endif %}
{% block title %}Profile{% endblock %}

{% block body %}
<div class="grid-container-profile">
    {% if app.user.image is defined and app.user.image is not null %}
    <div class="grid-child-image">
    <img class="avatar" src="{{ asset('uploads/images/' ~ app.user.image) }}" alt="user profile image">

    </div>
    {%  endif %}
    {% if  app.user.image is null %}
    <div class="profile-container">
        <img src="{{ asset('build/images/female_avatar.svg') }}" alt="female avatar"/>
        </a>
    </div>
    {%  endif %}
        <div class="child-bio">
        <h1> {{ app.user.username }}</h1>
            <h3>email : {{ app.user.email }}</h3>
            {{ parent() }}

            {% if app.user.roles.0 is not same as('ROLE_CANDIDAT') %}
             {% if app.user.company.siret is defined and app.user.company.siret is not null %}
             <h2>siret: {{ app.user.company.siret }}</h2>
            {% endif %}
     {% endif %}
            {% if app.user.linkedin is defined and app.user.linkedin is not null %}
            <a href="{{ app.user.linkedin }}" class="profile-icon">
                <ion-icon name="logo-linkedin" class="profile-icon"></ion-icon>
            </a>
            {%  endif %}
            {% if app.user.roles.0 is same as('ROLE_CANDIDAT') %}
            {% if app.user.candidate.github is defined and app.user.candidate.github is not null %}
            <a href="{{ app.user.candidate.github }}" class="social">
                <ion-icon name="logo-github" class="profile-icon"></ion-icon>
            </a>
            {% endif %}
            {% endif %}
            {% if app.user.roles.0 is  not same as('ROLE_CANDIDAT') %}
            {% if app.user.company.adress is defined and app.user.company.adress is not null %}
            <h3> Adresse : {{ app.user.company.adress }}</h3>
            {%  endif %}
            {%  endif %}
            {% if app.user.roles.0 is same as('ROLE_CANDIDAT') %}
                {% if app.user.location is defined and app.user.location is not null %}
                    <h3> ville : {{ app.user.location }}</h3>
                {%  endif %}
            {%  endif %}
            {% if app.user.bio is defined and app.user.bio is not null %}
        <h2> Bio </h2>
        <p> {{ app.user.bio }}</p>
            {% endif %}
        </div>
            <div class="edit_btns">
    <a class="connection" href="{{ path('app_profile_edit') }}">
        Ã‰diter
    </a>
    <form method="post" action="{{ path('app_profile_delete', {'id': app.user.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ app.user.id) }}">
        <button class="connection">Supprimer</button>
    </form>
            </div>
        </div>



    <script
        type="module"
        src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
        nomodule
        src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>

{% endblock %}
